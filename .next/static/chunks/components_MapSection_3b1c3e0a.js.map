{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/backup/incase%20port%20is%20not%20working/new_format/components/MapSection.js"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useRef, useState } from \"react\";\r\nimport L from \"leaflet\";\r\n\r\nexport default function MapSection({ soldiers = [], selectedSoldierId }) {\r\n  const mapRef = useRef(null);\r\n  const markersRef = useRef({});\r\n  const outOfBoundsMarkersRef = useRef({});\r\n  const distanceLinesRef = useRef({});\r\n  const distanceLabelsRef = useRef({});\r\n  const trailsRef = useRef({}); // New ref to track all trail polylines\r\n  const mapInitializedRef = useRef(false);\r\n  const mbTilesLayerRef = useRef(null);\r\n  const mapContainerRef = useRef(null);\r\n\r\n  const [trailsData, setTrailsData] = useState({});\r\n  const [colorMap, setColorMap] = useState({});\r\n  const [loader, setLoader] = useState(\"\");\r\n  const [progress, setProgress] = useState(0);\r\n  const [mapBounds, setMapBounds] = useState(null);\r\n  const [mapLoaded, setMapLoaded] = useState(false);\r\n  const [defaultZoomLevel, setDefaultZoomLevel] = useState(15);\r\n  const [showControls, setShowControls] = useState(true);\r\n  const [mapMetadataBounds, setMapMetadataBounds] = useState(null);\r\n  const [outOfBoundsSoldiers, setOutOfBoundsSoldiers] = useState({});\r\n  const [isFullscreen, setIsFullscreen] = useState(false);\r\n  const [showPathTracking, setShowPathTracking] = useState(true);\r\n\r\n  const soldierColors = [\r\n    \"#00FF00\", // Pure Green\r\n    \"#0000FF\", // Pure Blue\r\n    \"#FFFF00\", // Pure Yellow\r\n    \"#FF00FF\", // Pure Magenta\r\n    \"#00FFFF\", // Pure Cyan\r\n    \"#FFA500\", // Orange\r\n    \"#800080\", // Purple\r\n    \"#FFFFFF\", // White\r\n    \"#000000\", // Black\r\n  ];\r\n\r\n  function generateColorFromId(id) {\r\n    if (!id || typeof id !== \"string\") {\r\n      console.warn(\"Invalid soldier_id, using default color\");\r\n      return soldierColors[0]; // Fallback to the first color\r\n    }\r\n\r\n    let hash = 0;\r\n    for (let i = 0; i < id.length; i++) {\r\n      const char = id.charCodeAt(i);\r\n      hash = ((hash << 5) - hash) + char;\r\n      hash = hash & hash; // Convert to 32-bit integer\r\n    }\r\n\r\n    const index = Math.abs(hash) % soldierColors.length;\r\n    return soldierColors[index];\r\n  }\r\n\r\n  function calculateDistance(lat1, lon1, lat2, lon2) {\r\n    const R = 6371e3;\r\n    const φ1 = (lat1 * Math.PI) / 180;\r\n    const φ2 = (lat2 * Math.PI) / 180;\r\n    const Δφ = ((lat2 - lat1) * Math.PI) / 180;\r\n    const Δλ = ((lon2 - lon1) * Math.PI) / 180;\r\n\r\n    const a =\r\n      Math.sin(Δφ / 2) * Math.sin(Δφ / 2) +\r\n      Math.cos(φ1) * Math.cos(φ2) * Math.sin(Δλ / 2) * Math.sin(Δλ / 2);\r\n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\r\n    const distance = R * c;\r\n    return distance;\r\n  }\r\n\r\n  function isWithinBounds(lat, lng, bounds) {\r\n    if (!bounds) return true;\r\n    return (\r\n      lat >= bounds.south &&\r\n      lat <= bounds.north &&\r\n      lng >= bounds.west &&\r\n      lng <= bounds.east\r\n    );\r\n  }\r\n\r\n  function parseBounds(boundsString) {\r\n    if (!boundsString) return null;\r\n    const coords = boundsString.split(\",\").map(Number);\r\n    if (coords.length === 4) {\r\n      return {\r\n        west: coords[0],\r\n        south: coords[1],\r\n        east: coords[2],\r\n        north: coords[3],\r\n      };\r\n    }\r\n    return null;\r\n  }\r\n\r\n  const toggleFullscreen = () => {\r\n    const mapContainer = document.querySelector(\".map-container\");\r\n\r\n    if (!document.fullscreenElement) {\r\n      mapContainer?.requestFullscreen()\r\n        .then(() => {\r\n          setIsFullscreen(true);\r\n          setTimeout(() => {\r\n            if (mapRef.current) {\r\n              mapRef.current.invalidateSize();\r\n            }\r\n          }, 100);\r\n        })\r\n        .catch((err) => {\r\n          console.error(\"Error attempting to enable fullscreen:\", err);\r\n        });\r\n    } else {\r\n      document.exitFullscreen()\r\n        .then(() => {\r\n          setIsFullscreen(false);\r\n          setTimeout(() => {\r\n            if (mapRef.current) {\r\n              mapRef.current.invalidateSize();\r\n            }\r\n          }, 100);\r\n        })\r\n        .catch((err) => {\r\n          console.error(\"Error attempting to exit fullscreen:\", err);\r\n        });\r\n    }\r\n  };\r\n\r\n  const togglePathTracking = () => {\r\n    setShowPathTracking((prev) => !prev);\r\n  };\r\n\r\n  useEffect(() => {\r\n    console.log(\"Soldiers prop:\", soldiers);\r\n  }, [soldiers]);\r\n\r\n  useEffect(() => {\r\n    const handleFullscreenChange = () => {\r\n      setIsFullscreen(!!document.fullscreenElement);\r\n      setTimeout(() => {\r\n        if (mapRef.current) {\r\n          mapRef.current.invalidateSize();\r\n        }\r\n      }, 100);\r\n    };\r\n\r\n    document.addEventListener(\"fullscreenchange\", handleFullscreenChange);\r\n    return () => {\r\n      document.removeEventListener(\"fullscreenchange\", handleFullscreenChange);\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const timer = setTimeout(() => {\r\n      const container = document.getElementById(\"mapid\");\r\n      if (!container) {\r\n        console.error(\"Map container not found\");\r\n        setLoader(\"Error: Map container not found\");\r\n        return;\r\n      }\r\n\r\n      if (\r\n        mapInitializedRef.current ||\r\n        mapRef.current ||\r\n        container._leaflet_id ||\r\n        container.hasChildNodes()\r\n      ) {\r\n        return;\r\n      }\r\n\r\n      mapContainerRef.current = container;\r\n\r\n      const cssId = \"leaflet-css\";\r\n      if (!document.getElementById(cssId)) {\r\n        const link = document.createElement(\"link\");\r\n        link.id = cssId;\r\n        link.rel = \"stylesheet\";\r\n        link.href = \"/leaflet.css\";\r\n        document.head.appendChild(link);\r\n      }\r\n\r\n      setLoader(\"Initializing map…\");\r\n\r\n      try {\r\n        mapRef.current = L.map(container, {\r\n          center: [28.5471399, 77.1945754],\r\n          zoom: 15,\r\n          minZoom: 10,\r\n          maxZoom: 21,\r\n          preferCanvas: true,\r\n          zoomControl: true,\r\n          attributionControl: false,\r\n        });\r\n\r\n        class MBTilesLayer extends L.TileLayer {\r\n          _db = null;\r\n\r\n          loadMBTilesFromArrayBuffer = (buf) => {\r\n            try {\r\n              console.log(\"Loading MBTiles from buffer, size:\", buf.byteLength);\r\n              this._db = new window.SQL.Database(new Uint8Array(buf));\r\n              this._getMetadata();\r\n              setLoader(\"\");\r\n              setProgress(100);\r\n              setMapLoaded(true);\r\n              setShowControls(false);\r\n              this.redraw();\r\n              console.log(\"MBTiles loaded successfully\");\r\n            } catch (error) {\r\n              console.error(\"Error loading MBTiles:\", error);\r\n              setLoader(`Error loading MBTiles: ${error.message}`);\r\n              setProgress(0);\r\n            }\r\n          };\r\n\r\n          _getMetadata = () => {\r\n            if (!this._db) return;\r\n\r\n            try {\r\n              const metaStmt = this._db.prepare(\r\n                \"SELECT name, value FROM metadata\"\r\n              );\r\n              const metadata = {};\r\n\r\n              while (metaStmt.step()) {\r\n                const row = metaStmt.getAsObject();\r\n                metadata[row.name] = row.value;\r\n              }\r\n              metaStmt.free();\r\n\r\n              console.log(\"MBTiles metadata:\", metadata);\r\n\r\n              if (metadata.bounds) {\r\n                const bounds = parseBounds(metadata.bounds);\r\n                setMapMetadataBounds(bounds);\r\n                console.log(\"Map metadata bounds:\", bounds);\r\n              }\r\n\r\n              const zoomStmt = this._db.prepare(\r\n                \"SELECT DISTINCT zoom_level FROM tiles ORDER BY zoom_level\"\r\n              );\r\n              const zooms = [];\r\n              while (zoomStmt.step()) {\r\n                zooms.push(zoomStmt.getAsObject().zoom_level);\r\n              }\r\n              zoomStmt.free();\r\n              console.log(\"Available zoom levels:\", zooms);\r\n\r\n              const minZoom = Math.min(...zooms);\r\n              const maxZoom = Math.max(...zooms);\r\n              console.log(`Adjusting zoom range: ${minZoom} - ${maxZoom}`);\r\n\r\n              this.options.minZoom = minZoom;\r\n              this.options.maxZoom = Math.min(maxZoom, 21);\r\n\r\n              if (mapRef.current) {\r\n                mapRef.current.setMinZoom(minZoom);\r\n                mapRef.current.setMaxZoom(Math.min(maxZoom, 21));\r\n              }\r\n\r\n              if (metadata.bounds) {\r\n                const bounds = metadata.bounds.split(\",\").map(Number);\r\n                if (bounds.length === 4) {\r\n                  const sw = [bounds[1], bounds[0]];\r\n                  const ne = [bounds[3], bounds[2]];\r\n                  const leafletBounds = L.latLngBounds(sw, ne);\r\n                  setMapBounds(leafletBounds);\r\n\r\n                  const idealZoom = mapRef.current.getBoundsZoom(leafletBounds);\r\n                  const clampedZoom = Math.max(\r\n                    minZoom,\r\n                    Math.min(idealZoom, maxZoom - 1)\r\n                  );\r\n                  setDefaultZoomLevel(clampedZoom);\r\n\r\n                  setTimeout(() => {\r\n                    if (mapRef.current) {\r\n                      mapRef.current.fitBounds(leafletBounds, {\r\n                        maxZoom: clampedZoom,\r\n                        padding: [10, 10],\r\n                      });\r\n                    }\r\n                  }, 100);\r\n                }\r\n              }\r\n\r\n              const countStmt = this._db.prepare(\r\n                \"SELECT COUNT(*) as count FROM tiles\"\r\n              );\r\n              countStmt.step();\r\n              const tileCount = countStmt.getAsObject().count;\r\n              countStmt.free();\r\n              console.log(\"Total tiles:\", tileCount);\r\n\r\n              const distStmt = this._db.prepare(\r\n                \"SELECT zoom_level, COUNT(*) as count FROM tiles GROUP BY zoom_level ORDER BY zoom_level\"\r\n              );\r\n              console.log(\"Tile distribution:\");\r\n              while (distStmt.step()) {\r\n                const row = distStmt.getAsObject();\r\n                console.log(`  Zoom ${row.zoom_level}: ${row.count} tiles`);\r\n              }\r\n              distStmt.free();\r\n            } catch (error) {\r\n              console.error(\"Error reading metadata:\", error);\r\n            }\r\n          };\r\n\r\n          loadMBTilesFromPath = (path) => {\r\n            setLoader(`Loading ${path}…`);\r\n            setMapLoaded(false);\r\n            setProgress(0);\r\n            console.log(\"Loading MBTiles from path:\", path);\r\n\r\n            fetch(path, { method: \"GET\" })\r\n              .then(async (response) => {\r\n                if (!response.ok) {\r\n                  throw new Error(`HTTP ${response.status}: ${response.statusText}`);\r\n                }\r\n\r\n                const contentLength = response.headers.get(\"Content-Length\");\r\n                const total = contentLength ? parseInt(contentLength, 10) : 0;\r\n                let loaded = 0;\r\n\r\n                const reader = response.body.getReader();\r\n                const chunks = [];\r\n\r\n                while (true) {\r\n                  const { done, value } = await reader.read();\r\n                  if (done) break;\r\n\r\n                  chunks.push(value);\r\n                  loaded += value.length;\r\n\r\n                  if (total > 0) {\r\n                    const percentage = Math.round((loaded / total) * 100);\r\n                    setProgress(percentage);\r\n                    setLoader(`Loading map: ${percentage}%`);\r\n                  } else {\r\n                    setLoader(\r\n                      `Loading map: ${Math.round(\r\n                        loaded / (1024 * 1024)\r\n                      )} MB processed`\r\n                    );\r\n                  }\r\n                }\r\n\r\n                const buffer = new Uint8Array(loaded);\r\n                let offset = 0;\r\n                for (const chunk of chunks) {\r\n                  buffer.set(chunk, offset);\r\n                  offset += chunk.length;\r\n                }\r\n\r\n                console.log(\"MBTiles file fetched successfully\");\r\n                this.loadMBTilesFromArrayBuffer(buffer.buffer);\r\n              })\r\n              .catch((e) => {\r\n                console.error(\"Error loading MBTiles:\", e);\r\n                setLoader(`Error: ${e.message}`);\r\n                setProgress(0);\r\n                setMapLoaded(false);\r\n              });\r\n          };\r\n\r\n          createTile(coords, done) {\r\n            const img = document.createElement(\"img\");\r\n\r\n            if (!this._db) {\r\n              console.warn(\"Database not loaded yet\");\r\n              img.src =\r\n                \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=\";\r\n              setTimeout(() => done(null, img), 100);\r\n              return img;\r\n            }\r\n\r\n            const z = coords.z;\r\n            const x = coords.x;\r\n            const y = Math.pow(2, z) - coords.y - 1;\r\n\r\n            try {\r\n              const stmt = this._db.prepare(\r\n                \"SELECT tile_data FROM tiles WHERE zoom_level=? AND tile_column=? AND tile_row=?\"\r\n              );\r\n              stmt.bind([z, x, y]);\r\n\r\n              if (stmt.step()) {\r\n                const data = stmt.getAsObject().tile_data;\r\n\r\n                if (data && data.length > 0) {\r\n                  const blob = new Blob([new Uint8Array(data)], {\r\n                    type: \"image/png\",\r\n                  });\r\n                  const url = URL.createObjectURL(blob);\r\n\r\n                  img.onload = () => {\r\n                    URL.revokeObjectURL(url);\r\n                    done(null, img);\r\n                  };\r\n                  img.onerror = () => {\r\n                    URL.revokeObjectURL(url);\r\n                    console.warn(`Tile error for ${z}/${x}/${y}`);\r\n                    img.src =\r\n                      \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=\";\r\n                    done(null, img);\r\n                  };\r\n                  img.src = url;\r\n                } else {\r\n                  console.warn(`Empty tile data for ${z}/${x}/${y}`);\r\n                  img.src =\r\n                    \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=\";\r\n                  done(null, img);\r\n                }\r\n              } else {\r\n                if (z <= 12) {\r\n                  console.warn(\r\n                    `Missing tile at zoom ${z}: ${x}/${y} (critical for zoom out)`\r\n                  );\r\n                }\r\n                img.src =\r\n                  \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=\";\r\n                done(null, img);\r\n              }\r\n              stmt.free();\r\n            } catch (error) {\r\n              console.error(`Error getting tile ${z}/${x}/${y}:`, error);\r\n              img.src =\r\n                \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=\";\r\n              done(null, img);\r\n            }\r\n\r\n            return img;\r\n          }\r\n        }\r\n\r\n        mbTilesLayerRef.current = new MBTilesLayer({\r\n          minZoom: 1,\r\n          maxZoom: 21,\r\n          tms: true,\r\n          errorTileUrl:\r\n            \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=\",\r\n          bounds: null,\r\n          noWrap: false,\r\n          keepBuffer: 2,\r\n          updateWhenIdle: false,\r\n          updateWhenZooming: true,\r\n        });\r\n\r\n        mbTilesLayerRef.current.addTo(mapRef.current);\r\n\r\n        setLoader(\"Please load Map file\");\r\n        mapInitializedRef.current = true;\r\n\r\n        const script = document.createElement(\"script\");\r\n        script.src = \"/sqljs/sql-wasm.js\";\r\n        script.onload = () => {\r\n          window\r\n            .initSqlJs({ locateFile: () => \"/sqljs/sql-wasm.wasm\" })\r\n            .then((SQL) => {\r\n              window.SQL = SQL;\r\n            })\r\n            .catch((error) => {\r\n              console.error(\"SQL.js initialization failed:\", error);\r\n              setLoader(`SQL.js Error: ${error.message}`);\r\n            });\r\n        };\r\n        script.onerror = () => {\r\n          console.error(\"Failed to load SQL.js script\");\r\n          setLoader(\"Error: Failed to load SQL.js\");\r\n        };\r\n        document.body.appendChild(script);\r\n      } catch (error) {\r\n        console.error(\"Error creating map:\", error);\r\n        setLoader(`Map Error: ${error.message}`);\r\n      }\r\n    }, 0);\r\n\r\n    return () => {\r\n      clearTimeout(timer);\r\n      if (mapRef.current) {\r\n        try {\r\n          mapRef.current.remove();\r\n        } catch (e) {\r\n          console.warn(\"Error removing map:\", e);\r\n        }\r\n        mapRef.current = null;\r\n      }\r\n\r\n      if (mapContainerRef.current && mapContainerRef.current._leaflet_id) {\r\n        delete mapContainerRef.current._leaflet_id;\r\n      }\r\n\r\n      markersRef.current = {};\r\n      outOfBoundsMarkersRef.current = {};\r\n      distanceLinesRef.current = {};\r\n      distanceLabelsRef.current = {};\r\n      trailsRef.current = {};\r\n      mbTilesLayerRef.current = null;\r\n      mapInitializedRef.current = false;\r\n      mapContainerRef.current = null;\r\n      setMapLoaded(false);\r\n      setProgress(0);\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    setColorMap((prev) => {\r\n      const next = { ...prev };\r\n      let added = false;\r\n      soldiers.forEach((soldier) => {\r\n        if (soldier && soldier.soldier_id && typeof soldier.soldier_id === \"string\") {\r\n          if (!next[soldier.soldier_id]) {\r\n            next[soldier.soldier_id] = generateColorFromId(soldier.soldier_id);\r\n            added = true;\r\n          }\r\n        } else {\r\n          console.warn(\"Skipping soldier with invalid soldier_id:\", soldier);\r\n        }\r\n      });\r\n      return added ? next : prev;\r\n    });\r\n  }, [soldiers]);\r\n\r\n  useEffect(() => {\r\n    if (!mapInitializedRef.current) return;\r\n    setTrailsData((prev) => {\r\n      const next = { ...prev };\r\n      let updated = false;\r\n      soldiers.forEach((soldier) => {\r\n        if (\r\n          soldier &&\r\n          soldier.soldier_id &&\r\n          typeof soldier.soldier_id === \"string\" &&\r\n          soldier.gps &&\r\n          typeof soldier.gps.latitude === \"number\" &&\r\n          typeof soldier.gps.longitude === \"number\"\r\n        ) {\r\n          const { soldier_id, gps } = soldier;\r\n          if (!next[soldier_id]) {\r\n            next[soldier_id] = [];\r\n          }\r\n          const lastPoint = next[soldier_id][next[soldier_id].length - 1];\r\n          const newPoint = [gps.latitude, gps.longitude];\r\n\r\n          if (\r\n            !lastPoint ||\r\n            lastPoint[0] !== newPoint[0] ||\r\n            lastPoint[1] !== newPoint[1]\r\n          ) {\r\n            next[soldier_id] = [...next[soldier_id], newPoint];\r\n            updated = true;\r\n          }\r\n        } else {\r\n          console.warn(\"Skipping invalid soldier for trails:\", soldier);\r\n        }\r\n      });\r\n      return updated ? next : prev;\r\n    });\r\n  }, [soldiers]);\r\n\r\n  useEffect(() => {\r\n    if (!mapMetadataBounds) {\r\n      setOutOfBoundsSoldiers({});\r\n      return;\r\n    }\r\n\r\n    const outOfBounds = {};\r\n    soldiers.forEach((soldier) => {\r\n      if (\r\n        soldier &&\r\n        soldier.soldier_id &&\r\n        typeof soldier.soldier_id === \"string\" &&\r\n        soldier.gps &&\r\n        typeof soldier.gps.latitude === \"number\" &&\r\n        typeof soldier.gps.longitude === \"number\"\r\n      ) {\r\n        const { soldier_id, gps } = soldier;\r\n        if (!isWithinBounds(gps.latitude, gps.longitude, mapMetadataBounds)) {\r\n          outOfBounds[soldier_id] = {\r\n            originalLat: gps.latitude,\r\n            originalLng: gps.longitude,\r\n            soldier: soldier,\r\n          };\r\n          console.log(`Soldier ${soldier_id} is out of bounds:`, gps);\r\n        }\r\n      }\r\n    });\r\n\r\n    setOutOfBoundsSoldiers(outOfBounds);\r\n  }, [soldiers, mapMetadataBounds]);\r\n\r\n  useEffect(() => {\r\n    if (!mapInitializedRef.current || !mapRef.current) return;\r\n\r\n    Object.values(outOfBoundsMarkersRef.current).forEach((marker) => {\r\n      mapRef.current.removeLayer(marker);\r\n    });\r\n    outOfBoundsMarkersRef.current = {};\r\n\r\n    Object.entries(outOfBoundsSoldiers).forEach(([soldier_id, data]) => {\r\n      const { soldier } = data;\r\n      const base = colorMap[soldier_id] || generateColorFromId(soldier_id);\r\n      const color = soldier.hit_status ? \"#ff4444\" : base;\r\n      const yaw = soldier.imu?.yaw || 0;\r\n\r\n      const svg = `\r\n        <svg width=\"30\" height=\"30\">\r\n          <circle cx=\"15\" cy=\"15\" r=\"12\" fill=\"${color}\" opacity=\"0.8\" \r\n                  stroke=\"#ff0000\" stroke-width=\"3\" stroke-dasharray=\"2,2\">\r\n            <animate attributeName=\"opacity\" values=\"0.3;1;0.3\" dur=\"1s\" repeatCount=\"indefinite\"/>\r\n          </circle>\r\n          <circle cx=\"15\" cy=\"15\" r=\"8\" fill=\"${color}\" opacity=\"0.9\"/>\r\n          <line x1=\"15\" y1=\"15\" x2=\"15\" y2=\"3\"\r\n                stroke=\"#000\" stroke-width=\"2\"\r\n                transform=\"rotate(${yaw},15,15)\"/>\r\n          <text x=\"15\" y=\"25\" text-anchor=\"middle\" fill=\"#ff0000\" font-size=\"8\" font-weight=\"bold\">OUT</text>\r\n        </svg>`;\r\n\r\n      const mapCenter = mapRef.current.getCenter();\r\n      const icon = L.divIcon({\r\n        className: \"out-of-bounds-marker\",\r\n        html: svg,\r\n        iconSize: [30, 30],\r\n        iconAnchor: [15, 15],\r\n      });\r\n\r\n      const marker = L.marker([mapCenter.lat, mapCenter.lng], { icon });\r\n      marker.bindPopup(\r\n        `<b>${soldier_id} - OUT OF BOUNDS</b><br/>\r\n         Original Lat: ${data.originalLat}<br/>\r\n         Original Lng: ${data.originalLng}<br/>\r\n         Color: ${base}<br/>\r\n         <span style=\"color: #ff0000; font-weight: bold;\">Location outside map area!</span>`\r\n      );\r\n      marker.addTo(mapRef.current);\r\n      outOfBoundsMarkersRef.current[soldier_id] = marker;\r\n    });\r\n\r\n    soldiers.forEach((soldier) => {\r\n      if (\r\n        !soldier ||\r\n        !soldier.soldier_id ||\r\n        typeof soldier.soldier_id !== \"string\" ||\r\n        !soldier.gps ||\r\n        typeof soldier.gps.latitude !== \"number\" ||\r\n        typeof soldier.gps.longitude !== \"number\"\r\n      ) {\r\n        console.warn(\"Skipping invalid soldier for markers:\", soldier);\r\n        return;\r\n      }\r\n\r\n      const { soldier_id, gps, hit_status, imu } = soldier;\r\n\r\n      if (outOfBoundsSoldiers[soldier_id]) {\r\n        if (markersRef.current[soldier_id]) {\r\n          mapRef.current.removeLayer(markersRef.current[soldier_id]);\r\n          delete markersRef.current[soldier_id];\r\n        }\r\n        return;\r\n      }\r\n\r\n      const base = colorMap[soldier_id] || generateColorFromId(soldier_id);\r\n      const color = hit_status ? \"#ff4444\" : base;\r\n      const yaw = imu?.yaw || 0;\r\n\r\n      const svg = `\r\n        <svg width=\"20\" height=\"20\">\r\n          <circle cx=\"10\" cy=\"10\" r=\"8\" fill=\"${color}\" opacity=\"0.8\"/>\r\n          <line x1=\"10\" y1=\"10\" x2=\"10\" y2=\"0\"\r\n                stroke=\"#000\" stroke-width=\"2\"\r\n                transform=\"rotate(${yaw},10,10)\"/>\r\n        </svg>`;\r\n\r\n      if (!markersRef.current[soldier_id]) {\r\n        const icon = L.divIcon({\r\n          className: \"custom-marker\",\r\n          html: svg,\r\n          iconSize: [20, 20],\r\n          iconAnchor: [10, 10],\r\n        });\r\n        const m = L.marker([gps.latitude, gps.longitude], { icon });\r\n        m.bindPopup(\r\n          `<b>${soldier_id}</b><br/>Lat: ${gps.latitude}<br/>Lng: ${gps.longitude}<br/>Color: ${base}`\r\n        );\r\n        m.addTo(mapRef.current);\r\n        markersRef.current[soldier_id] = m;\r\n      } else {\r\n        const m = markersRef.current[soldier_id];\r\n        m.setLatLng([gps.latitude, gps.longitude]);\r\n        const icon = L.divIcon({\r\n          className: \"custom-marker\",\r\n          html: svg,\r\n          iconSize: [20, 20],\r\n          iconAnchor: [10, 10],\r\n        });\r\n        m.setIcon(icon);\r\n        m.setPopupContent(\r\n          `<b>${soldier_id}</b><br/>Lat: ${gps.latitude}<br/>Lng: ${gps.longitude}<br/>Color: ${base}`\r\n        );\r\n      }\r\n    });\r\n  }, [soldiers, colorMap, outOfBoundsSoldiers]);\r\n\r\n  useEffect(() => {\r\n    if (!mapInitializedRef.current || !mapRef.current) return;\r\n\r\n    const map = mapRef.current;\r\n\r\n    // Clear all existing trails, distance lines, and labels\r\n    Object.values(trailsRef.current).forEach((trail) => {\r\n      map.removeLayer(trail);\r\n    });\r\n    trailsRef.current = {};\r\n\r\n    Object.values(distanceLinesRef.current).forEach((line) => {\r\n      map.removeLayer(line);\r\n    });\r\n    Object.values(distanceLabelsRef.current).forEach((label) => {\r\n      map.removeLayer(label);\r\n    });\r\n    distanceLinesRef.current = {};\r\n    distanceLabelsRef.current = {};\r\n\r\n    // Only render trails and distance lines if path tracking is enabled\r\n    if (showPathTracking) {\r\n      // Render distance lines and labels\r\n      const commandCenter = soldiers.find(\r\n        (soldier) =>\r\n          soldier &&\r\n          soldier.soldier_id === \"1\" &&\r\n          soldier.gps &&\r\n          typeof soldier.gps.latitude === \"number\" &&\r\n          typeof soldier.gps.longitude === \"number\"\r\n      );\r\n      if (commandCenter) {\r\n        const commandCenterCoords = [\r\n          commandCenter.gps.latitude,\r\n          commandCenter.gps.longitude,\r\n        ];\r\n\r\n        soldiers.forEach((soldier) => {\r\n          if (\r\n            soldier &&\r\n            soldier.soldier_id &&\r\n            typeof soldier.soldier_id === \"string\" &&\r\n            soldier.soldier_id !== \"1\" &&\r\n            soldier.gps &&\r\n            typeof soldier.gps.latitude === \"number\" &&\r\n            typeof soldier.gps.longitude === \"number\"\r\n          ) {\r\n            const { soldier_id, gps } = soldier;\r\n\r\n            if (outOfBoundsSoldiers[soldier_id]) {\r\n              return;\r\n            }\r\n\r\n            const soldierCoords = [gps.latitude, gps.longitude];\r\n            const distance = calculateDistance(\r\n              commandCenterCoords[0],\r\n              commandCenterCoords[1],\r\n              soldierCoords[0],\r\n              soldierCoords[1]\r\n            );\r\n            const color = colorMap[soldier_id] || generateColorFromId(soldier_id);\r\n\r\n            const line = L.polyline([commandCenterCoords, soldierCoords], {\r\n              color: color,\r\n              weight: 2,\r\n              opacity: 0.5,\r\n              dashArray: \"2,4\",\r\n            });\r\n            line.addTo(map);\r\n            distanceLinesRef.current[soldier_id] = line;\r\n\r\n            const midLat = (commandCenterCoords[0] + soldierCoords[0]) / 2;\r\n            const midLon = (commandCenterCoords[1] + soldierCoords[1]) / 2;\r\n\r\n            let distanceText;\r\n            if (distance < 1000) {\r\n              distanceText = `${Math.round(distance)} m`;\r\n            } else {\r\n              distanceText = `${(distance / 1000).toFixed(2)} km`;\r\n            }\r\n\r\n            const label = L.divIcon({\r\n              className: \"distance-label\",\r\n              html: `\r\n                <div style=\"\r\n                  background: rgba(0, 20, 40, 0.8);\r\n                  color: #66fcf1;\r\n                  font-family: 'Courier New', monospace;\r\n                  font-size: 12px;\r\n                  font-weight: bold;\r\n                  padding: 8px 18px;\r\n                  border: 1px solid #00ffff;\r\n                  border-radius: 4px;\r\n                  white-space: nowrap;\r\n                  text-align: center;\r\n                  min-width: 60px;\r\n                \">\r\n                  ${distanceText}\r\n                </div>\r\n              `,\r\n              iconSize: [60, 24],\r\n              iconAnchor: [30, 12],\r\n            });\r\n            const marker = L.marker([midLat, midLon], { icon: label });\r\n            marker.addTo(map);\r\n            distanceLabelsRef.current[soldier_id] = marker;\r\n          } else {\r\n            console.warn(\"Skipping invalid soldier for distance lines:\", soldier);\r\n          }\r\n        });\r\n      }\r\n\r\n      // Render trails\r\n      if (!selectedSoldierId) {\r\n        Object.entries(trailsData).forEach(([id, coords]) => {\r\n          if (coords.length < 2 || outOfBoundsSoldiers[id]) return;\r\n\r\n          const color = colorMap[id] || generateColorFromId(id);\r\n          const pl = L.polyline(coords, {\r\n            color: color,\r\n            weight: 2,\r\n            opacity: 1,\r\n            dashArray: \"4,6\",\r\n          });\r\n          pl.addTo(map);\r\n          trailsRef.current[id] = pl;\r\n        });\r\n      } else {\r\n        const coords = trailsData[selectedSoldierId] || [];\r\n        if (coords.length > 1 && !outOfBoundsSoldiers[selectedSoldierId]) {\r\n          const color =\r\n            colorMap[selectedSoldierId] || generateColorFromId(selectedSoldierId);\r\n          const pl = L.polyline(coords, {\r\n            color: color,\r\n            weight: 3,\r\n            opacity: 1,\r\n            dashArray: \"4,2\",\r\n          });\r\n          pl.addTo(map);\r\n          trailsRef.current[selectedSoldierId] = pl;\r\n        }\r\n      }\r\n\r\n      // Adjust marker opacity based on selection\r\n      Object.values(markersRef.current).forEach((m) => m.setOpacity(1));\r\n      Object.values(outOfBoundsMarkersRef.current).forEach((m) => m.setOpacity(1));\r\n      if (selectedSoldierId) {\r\n        Object.entries(markersRef.current).forEach(([id, m]) =>\r\n          m.setOpacity(id === selectedSoldierId ? 1 : 0.3)\r\n        );\r\n        Object.entries(outOfBoundsMarkersRef.current).forEach(([id, m]) =>\r\n          m.setOpacity(id === selectedSoldierId ? 1 : 0.3)\r\n        );\r\n\r\n        const selectedMarker =\r\n          markersRef.current[selectedSoldierId] ||\r\n          outOfBoundsMarkersRef.current[selectedSoldierId];\r\n        if (selectedMarker) {\r\n          map.setView(selectedMarker.getLatLng(), map.getZoom());\r\n        }\r\n      }\r\n    } else {\r\n      // Log for debugging\r\n      console.log(\"Path tracking disabled, clearing all trails and distance lines\");\r\n      map.eachLayer((layer) => {\r\n        if (layer instanceof L.Polyline) {\r\n          console.log(\"Removing polyline layer:\", layer);\r\n          map.removeLayer(layer);\r\n        }\r\n      });\r\n\r\n      // Ensure all markers are fully visible\r\n      Object.values(markersRef.current).forEach((m) => m.setOpacity(1));\r\n      Object.values(outOfBoundsMarkersRef.current).forEach((m) => m.setOpacity(1));\r\n    }\r\n  }, [\r\n    soldiers,\r\n    trailsData,\r\n    selectedSoldierId,\r\n    colorMap,\r\n    outOfBoundsSoldiers,\r\n    showPathTracking,\r\n  ]);\r\n\r\n  const onPath = () => {\r\n    const v = document.getElementById(\"filepath\")?.value;\r\n    if (v && mbTilesLayerRef.current) {\r\n      console.log(\"Loading MBTiles from path:\", v);\r\n      mbTilesLayerRef.current.loadMBTilesFromPath(v);\r\n    }\r\n  };\r\n\r\n  const onFile = (e) => {\r\n    const f = e.target.files?.[0];\r\n    if (f && mbTilesLayerRef.current) {\r\n      console.log(\"Loading MBTiles from file:\", f.name);\r\n      setLoader(`Loading ${f.name}…`);\r\n      setProgress(0);\r\n      const r = new FileReader();\r\n      r.onprogress = (event) => {\r\n        if (event.lengthComputable) {\r\n          const percentage = Math.round((event.loaded / event.total) * 100);\r\n          setProgress(percentage);\r\n          setLoader(`Loading ${f.name}: ${percentage}%`);\r\n        } else {\r\n          setLoader(\r\n            `Loading ${f.name}: ${Math.round(\r\n              event.loaded / (1024 * 1024)\r\n            )} MB processed`\r\n          );\r\n        }\r\n      };\r\n      r.onload = () => mbTilesLayerRef.current.loadMBTilesFromArrayBuffer(r.result);\r\n      r.onerror = () => {\r\n        setLoader(`Error loading ${f.name}`);\r\n        setProgress(0);\r\n      };\r\n      r.readAsArrayBuffer(f);\r\n    }\r\n  };\r\n\r\n  const onFitBounds = () => {\r\n    if (mapBounds && mapRef.current) {\r\n      mapRef.current.fitBounds(mapBounds, {\r\n        maxZoom: 18,\r\n        padding: [20, 20],\r\n      });\r\n    }\r\n  };\r\n\r\n  const onDebugTiles = () => {\r\n    if (mbTilesLayerRef.current && mbTilesLayerRef.current._db) {\r\n      const db = mbTilesLayerRef.current._db;\r\n\r\n      const zoomStmt = db.prepare(\r\n        \"SELECT zoom_level, COUNT(*) as count FROM tiles GROUP BY zoom_level ORDER BY zoom_level\"\r\n      );\r\n      console.log(\"=== MBTiles Debug Info ===\");\r\n      console.log(\"Tile distribution by zoom level:\");\r\n      while (zoomStmt.step()) {\r\n        const row = zoomStmt.getAsObject();\r\n        console.log(`  Zoom ${row.zoom_level}: ${row.count} tiles`);\r\n      }\r\n      zoomStmt.free();\r\n\r\n      const minZoomStmt = db.prepare(\r\n        \"SELECT MIN(zoom_level) as min_zoom, MAX(zoom_level) as max_zoom FROM tiles\"\r\n      );\r\n      minZoomStmt.step();\r\n      const zoomRange = minZoomStmt.getAsObject();\r\n      minZoomStmt.free();\r\n      console.log(`Zoom range: ${zoomRange.min_zoom} - ${zoomRange.max_zoom}`);\r\n\r\n      if (mapRef.current) {\r\n        console.log(`Current map zoom: ${mapRef.current.getZoom()}`);\r\n        console.log(\r\n          `Map zoom limits: ${mapRef.current.getMinZoom()} - ${mapRef.current.getMaxZoom()}`\r\n        );\r\n        console.log(`Current map bounds:`, mapRef.current.getBounds());\r\n      }\r\n\r\n      console.log(\"Current soldiers:\", soldiers.length);\r\n      console.log(\r\n        \"Trails data:\",\r\n        Object.keys(trailsData).length,\r\n        \"soldiers have trails\"\r\n      );\r\n      Object.entries(trailsData).forEach(([id, coords]) => {\r\n        console.log(`Soldier ${id}: ${coords.length} GPS points`);\r\n      });\r\n\r\n      console.log(\"=== Distance Debug Info ===\");\r\n      const commandCenter = soldiers.find(\r\n        (soldier) =>\r\n          soldier &&\r\n          soldier.soldier_id === \"1\" &&\r\n          soldier.gps &&\r\n          typeof soldier.gps.latitude === \"number\" &&\r\n          typeof soldier.gps.longitude === \"number\"\r\n      );\r\n      if (commandCenter) {\r\n        console.log(\r\n          `Command Center (Soldier 1): Lat ${commandCenter.gps.latitude}, Lng ${commandCenter.gps.longitude}`\r\n        );\r\n        soldiers.forEach((soldier) => {\r\n          if (\r\n            soldier &&\r\n            soldier.soldier_id &&\r\n            typeof soldier.soldier_id === \"string\" &&\r\n            soldier.soldier_id !== \"1\" &&\r\n            soldier.gps &&\r\n            typeof soldier.gps.latitude === \"number\" &&\r\n            typeof soldier.gps.longitude === \"number\"\r\n          ) {\r\n            const distance = calculateDistance(\r\n              commandCenter.gps.latitude,\r\n              commandCenter.gps.longitude,\r\n              soldier.gps.latitude,\r\n              soldier.gps.longitude\r\n            );\r\n            console.log(\r\n              `Distance to Soldier ${soldier.soldier_id}: ${Math.round(\r\n                distance\r\n              )} meters`\r\n            );\r\n          }\r\n        });\r\n      }\r\n\r\n      console.log(\"=== Out of Bounds Debug Info ===\");\r\n      console.log(\"Map metadata bounds:\", mapMetadataBounds);\r\n      console.log(\"Out of bounds soldiers:\", Object.keys(outOfBoundsSoldiers));\r\n      Object.entries(outOfBoundsSoldiers).forEach(([id, data]) => {\r\n        console.log(\r\n          `Soldier ${id} out of bounds: Lat ${data.originalLat}, Lng ${data.originalLng}`\r\n        );\r\n      });\r\n\r\n      console.log(\"=== Path Tracking Status ===\");\r\n      console.log(\"Path tracking enabled:\", showPathTracking);\r\n      console.log(\"Current trails in trailsRef:\", Object.keys(trailsRef.current));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className=\"map-container\"\r\n      style={{ position: \"relative\", height: \"100%\", width: \"100%\" }}\r\n    >\r\n      <style jsx>{`\r\n        .scifi-panel {\r\n          position: absolute;\r\n          top: 50%;\r\n          left: 50%;\r\n          transform: translate(-50%, -50%);\r\n          z-index: 1000;\r\n          background: linear-gradient(\r\n            135deg,\r\n            rgba(0, 20, 40, 0.95) 0%,\r\n            rgba(0, 40, 80, 0.95) 100%\r\n          );\r\n          border: 2px solid #00ffff;\r\n          border-radius: 12px;\r\n          padding: 24px;\r\n          box-shadow: 0 0 20px rgba(0, 255, 255, 0.3),\r\n            inset 0 0 20px rgba(0, 255, 255, 0.1);\r\n          backdrop-filter: blur(10px);\r\n          min-width: 400px;\r\n          animation: glow 2s ease-in-out infinite alternate;\r\n        }\r\n\r\n        @keyframes glow {\r\n          from {\r\n            box-shadow: 0 0 20px rgba(0, 255, 255, 0.3),\r\n              inset 0 0 20px rgba(0, 255, 255, 0.1);\r\n          }\r\n          to {\r\n            box-shadow: 0 0 30px rgba(0, 255, 255, 0.5),\r\n              inset 0 0 30px rgba(0, 255, 255, 0.2);\r\n          }\r\n        }\r\n\r\n        @keyframes pulse {\r\n          0%,\r\n          100% {\r\n            opacity: 1;\r\n          }\r\n          50% {\r\n            opacity: 0.5;\r\n          }\r\n        }\r\n\r\n        .scifi-title {\r\n          color: #00ffff;\r\n          text-align: center;\r\n          font-family: \"Courier New\", monospace;\r\n          font-size: 18px;\r\n          font-weight: bold;\r\n          margin-bottom: 20px;\r\n          text-shadow: 0 0 10px rgba(0, 255, 255, 0.8);\r\n          letter-spacing: 2px;\r\n        }\r\n\r\n        .scifi-input-group {\r\n          margin-bottom: 16px;\r\n        }\r\n\r\n        .scifi-label {\r\n          display: block;\r\n          color: #66fcf1;\r\n          font-family: \"Courier New\", monospace;\r\n          font-size: 12px;\r\n          margin-bottom: 6px;\r\n          text-transform: uppercase;\r\n          letter-spacing: 1px;\r\n        }\r\n\r\n        .scifi-input {\r\n          width: 100%;\r\n          background: rgba(0, 20, 40, 0.8);\r\n          border: 1px solid #00ffff;\r\n          border-radius: 6px;\r\n          padding: 10px 12px;\r\n          color: #66fcf1;\r\n          font-family: \"Courier New\", monospace;\r\n          font-size: 14px;\r\n          outline: none;\r\n          transition: all 0.3s ease;\r\n          box-sizing: border-box;\r\n        }\r\n\r\n        .scifi-input:focus {\r\n          border-color: #66fcf1;\r\n          box-shadow: 0 0 10px rgba(102, 252, 241, 0.3);\r\n        }\r\n\r\n        .scifi-input::placeholder {\r\n          color: rgba(102, 252, 241, 0.5);\r\n        }\r\n\r\n        .scifi-button {\r\n          background: linear-gradient(135deg, #00ffff 0%, #0080ff 100%);\r\n          border: none;\r\n          border-radius: 6px;\r\n          padding: 10px 20px;\r\n          color: #001122;\r\n          font-family: \"Courier New\", monospace;\r\n          font-size: 12px;\r\n          font-weight: bold;\r\n          text-transform: uppercase;\r\n          letter-spacing: 1px;\r\n          cursor: pointer;\r\n          transition: all 0.3s ease;\r\n          width: 100%;\r\n          margin-bottom: 8px;\r\n        }\r\n\r\n        .scifi-button:hover {\r\n          background: linear-gradient(135deg, #66fcf1 0%, #00aaff 100%);\r\n          box-shadow: 0 0 15px rgba(0, 255, 255, 0.5);\r\n          transform: translateY(-1px);\r\n        }\r\n\r\n        .scifi-button:active {\r\n          transform: translateY(0);\r\n        }\r\n\r\n        .scifi-file-input {\r\n          background: rgba(0, 20, 40, 0.8);\r\n          border: 1px dashed #00ffff;\r\n          border-radius: 6px;\r\n          padding: 12px;\r\n          color: #66fcf1;\r\n          font-family: \"Courier New\", monospace;\r\n          font-size: 12px;\r\n          cursor: pointer;\r\n          transition: all 0.3s ease;\r\n          text-align: center;\r\n          position: relative;\r\n          overflow: hidden;\r\n        }\r\n\r\n        .scifi-file-input:hover {\r\n          border-color: #66fcf1;\r\n          background: rgba(0, 40, 80, 0.8);\r\n        }\r\n\r\n        .scifi-file-input input[type=\"file\"] {\r\n          position: absolute;\r\n          top: 0;\r\n          left: 0;\r\n          width: 100%;\r\n          height: 100%;\r\n          opacity: 0;\r\n          cursor: pointer;\r\n        }\r\n\r\n        .loader-panel {\r\n          position: absolute;\r\n          top: 20px;\r\n          left: 50%;\r\n          transform: translateX(-50%);\r\n          z-index: 1000;\r\n          background: rgba(0, 20, 40, 0.95);\r\n          border: 1px solid #00ffff;\r\n          border-radius: 8px;\r\n          padding: 12px 20px;\r\n          color: #66fcf1;\r\n          font-family: \"Courier New\", monospace;\r\n          font-size: 14px;\r\n          box-shadow: 0 0 15px rgba(0, 255, 255, 0.3);\r\n        }\r\n\r\n        .progress-bar {\r\n          width: 100%;\r\n          height: 8px;\r\n          background: rgba(0, 20, 40, 0.8);\r\n          border: 1px solid #00ffff;\r\n          border-radius: 4px;\r\n          margin-top: 8px;\r\n          overflow: hidden;\r\n        }\r\n\r\n        .progress-fill {\r\n          height: 100%;\r\n          background: linear-gradient(90deg, #00ffff, #66fcf1);\r\n          transition: width 0.3s ease;\r\n        }\r\n\r\n        .status-panel {\r\n          position: absolute;\r\n          top: 10px;\r\n          right: 10px;\r\n          z-index: 1000;\r\n          background: rgba(0, 20, 40, 0.95);\r\n          border: 1px solid #66fcf1;\r\n          border-radius: 8px;\r\n          padding: 12px;\r\n          font-family: \"Courier New\", monospace;\r\n          font-size: 11px;\r\n          max-width: 200px;\r\n          color: #66fcf1;\r\n          box-shadow: 0 0 10px rgba(102, 252, 241, 0.2);\r\n        }\r\n\r\n        .status-title {\r\n          color: #00ffff;\r\n          font-weight: bold;\r\n          margin-bottom: 8px;\r\n          text-transform: uppercase;\r\n          letter-spacing: 1px;\r\n        }\r\n\r\n        .soldier-item {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 6px;\r\n          margin-bottom: 4px;\r\n        }\r\n\r\n        .soldier-dot {\r\n          width: 10px;\r\n          height: 10px;\r\n          border-radius: 50%;\r\n          border: 1px solid #00ffff;\r\n          flex-shrink: 0;\r\n        }\r\n\r\n        .out-of-bounds-indicator {\r\n          color: #ff4444;\r\n          font-size: 9px;\r\n          font-weight: bold;\r\n          margin-left: 4px;\r\n          animation: pulse 1s ease-in-out infinite;\r\n        }\r\n\r\n        .close-button {\r\n          position: absolute;\r\n          top: 8px;\r\n          right: 12px;\r\n          background: none;\r\n          border: none;\r\n          color: #ff4444;\r\n          font-size: 20px;\r\n          cursor: pointer;\r\n          font-family: \"Courier New\", monospace;\r\n          padding: 0;\r\n          width: 24px;\r\n          height: 24px;\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          transition: all 0.3s ease;\r\n        }\r\n\r\n        .close-button:hover {\r\n          color: #ff6666;\r\n          text-shadow: 0 0 10px rgba(255, 68, 68, 0.8);\r\n          transform: scale(1.1);\r\n        }\r\n\r\n        .toggle-controls {\r\n          position: absolute;\r\n          bottom: 20px;\r\n          left: 20px;\r\n          z-index: 1000;\r\n          background: linear-gradient(135deg, #00ffff 0%, #0080ff 100%);\r\n          border: none;\r\n          border-radius: 50%;\r\n          padding: 12px;\r\n          color: #001122;\r\n          font-size: 16px;\r\n          cursor: pointer;\r\n          width: 48px;\r\n          height: 48px;\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          box-shadow: 0 0 15px rgba(0, 255, 255, 0.3);\r\n          transition: all 0.3s ease;\r\n        }\r\n\r\n        .toggle-controls:hover {\r\n          transform: scale(1.1);\r\n          box-shadow: 0 0 20px rgba(0, 255, 255, 0.5);\r\n        }\r\n\r\n        .fullscreen-button {\r\n          position: absolute;\r\n          top: 70px;\r\n          right: 270px;\r\n          z-index: 1000;\r\n          background: linear-gradient(135deg, #ff9800 0%, #ff5722 100%);\r\n          border: none;\r\n          border-radius: 50%;\r\n          padding: 12px;\r\n          color: #fff;\r\n          font-size: 16px;\r\n          cursor: pointer;\r\n          width: 48px;\r\n          height: 48px;\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          box-shadow: 0 0 15px rgba(255, 152, 0, 0.3);\r\n          transition: all 0.3s ease;\r\n        }\r\n\r\n        .fullscreen-button:hover {\r\n          transform: scale(1.1);\r\n          box-shadow: 0 0 20px rgba(255, 152, 0, 0.5);\r\n        }\r\n\r\n        .path-tracking-button {\r\n          position: absolute;\r\n          bottom: 80px;\r\n          left: 20px;\r\n          z-index: 1000;\r\n          background: linear-gradient(\r\n            135deg,\r\n            ${showPathTracking ? \"#4CAF50\" : \"#f44336\"} 0%,\r\n            ${showPathTracking ? \"#2E7D32\" : \"#c62828\"} 100%\r\n          );\r\n          border: none;\r\n          border-radius: 50%;\r\n          padding: 12px;\r\n          color: #fff;\r\n          font-size: 16px;\r\n          cursor: pointer;\r\n          width: 48px;\r\n          height: 48px;\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          box-shadow: 0 0 15px ${showPathTracking\r\n            ? \"rgba(76, 175, 80, 0.3)\"\r\n            : \"rgba(244, 67, 54, 0.3)\"};\r\n          transition: all 0.3s ease;\r\n        }\r\n\r\n        .path-tracking-button:hover {\r\n          transform: scale(1.1);\r\n          box-shadow: 0 0 20px ${showPathTracking\r\n            ? \"rgba(76, 175, 80, 0.5)\"\r\n            : \"rgba(244, 67, 54, 0.5)\"};\r\n        }\r\n\r\n        .map-container:fullscreen {\r\n          background: #000;\r\n        }\r\n\r\n        .map-container:fullscreen .fullscreen-button {\r\n          background: linear-gradient(135deg, #4CAF50 0%, #2E7D32 100%);\r\n          box-shadow: 0 0 15px rgba(76, 175, 80, 0.3);\r\n        }\r\n\r\n        .map-container:fullscreen .fullscreen-button:hover {\r\n          box-shadow: 0 0 20px rgba(76, 175, 80, 0.5);\r\n        }\r\n\r\n        .offline-indicator {\r\n          position: absolute;\r\n          bottom: 20px;\r\n          right: 20px;\r\n          z-index: 1000;\r\n          background: rgba(0, 20, 40, 0.95);\r\n          border: 1px solid #00ffff;\r\n          border-radius: 8px;\r\n          padding: 8px 12px;\r\n          color: #00ffff;\r\n          font-family: \"Courier New\", monospace;\r\n          font-size: 10px;\r\n          text-transform: uppercase;\r\n          letter-spacing: 1px;\r\n          box-shadow: 0 0 10px rgba(0, 255, 255, 0.2);\r\n        }\r\n\r\n        .bounds-info {\r\n          position: absolute;\r\n          bottom: 140px;\r\n          right: 20px;\r\n          z-index: 1000;\r\n          background: rgba(0, 20, 40, 0.95);\r\n          border: 1px solid #ff9800;\r\n          border-radius: 8px;\r\n          padding: 8px 12px;\r\n          color: #ff9800;\r\n          font-family: \"Courier New\", monospace;\r\n          font-size: 9px;\r\n          max-width: 200px;\r\n          box-shadow: 0 0 10px rgba(255, 152, 0, 0.2);\r\n        }\r\n\r\n        .bounds-title {\r\n          color: #ff9800;\r\n          font-weight: bold;\r\n          margin-bottom: 4px;\r\n          text-transform: uppercase;\r\n          letter-spacing: 1px;\r\n        }\r\n\r\n        .path-tracking-status {\r\n          position: absolute;\r\n          bottom: 140px;\r\n          left: 20px;\r\n          z-index: 1000;\r\n          background: rgba(0, 20, 40, 0.95);\r\n          border: 1px solid ${showPathTracking ? \"#4CAF50\" : \"#f44336\"};\r\n          border-radius: 8px;\r\n          padding: 8px 12px;\r\n          color: ${showPathTracking ? \"#4CAF50\" : \"#f44336\"};\r\n          font-family: \"Courier New\", monospace;\r\n          font-size: 10px;\r\n          text-transform: uppercase;\r\n          letter-spacing: 1px;\r\n          box-shadow: 0 0 10px ${showPathTracking\r\n            ? \"rgba(76, 175, 80, 0.2)\"\r\n            : \"rgba(244, 67, 54, 0.2)\"};\r\n        }\r\n\r\n        .out-of-bounds-marker {\r\n          animation: flicker 1s ease-in-out infinite !important;\r\n        }\r\n\r\n        @keyframes flicker {\r\n          0%,\r\n          100% {\r\n            opacity: 1;\r\n          }\r\n          50% {\r\n            opacity: 0.3;\r\n          }\r\n        }\r\n      `}</style>\r\n\r\n      {loader && (\r\n        <div className=\"loader-panel\">\r\n          <span\r\n            style={{\r\n              animation: loader.includes(\"Error\")\r\n                ? \"none\"\r\n                : \"pulse 1.5s ease-in-out infinite\",\r\n            }}\r\n          >\r\n            {loader}\r\n          </span>\r\n          {progress > 0 && progress < 100 && (\r\n            <div className=\"progress-bar\">\r\n              <div\r\n                className=\"progress-fill\"\r\n                style={{ width: `${progress}%` }}\r\n              />\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      {showControls && !mapLoaded && (\r\n        <div className=\"scifi-panel\">\r\n          <button\r\n            className=\"close-button\"\r\n            onClick={() => setShowControls(false)}\r\n            title=\"Close Panel\"\r\n          >\r\n            ×\r\n          </button>\r\n\r\n          <div className=\"scifi-title\">SELECT MAP</div>\r\n\r\n          <div className=\"scifi-input-group\">\r\n            <label className=\"scifi-label\">Map File Path</label>\r\n            <input\r\n              id=\"filepath\"\r\n              className=\"scifi-input\"\r\n              placeholder=\"Enter path to .mbtiles file\"\r\n            />\r\n          </div>\r\n\r\n          <button className=\"scifi-button\" onClick={onPath}>\r\n            Load From Path\r\n          </button>\r\n\r\n          <div className=\"scifi-input-group\">\r\n            <label className=\"scifi-label\">Upload Map File</label>\r\n            <div className=\"scifi-file-input\">\r\n              <input type=\"file\" accept=\".mbtiles\" onChange={onFile} />\r\n              Select .mbtiles file from device\r\n            </div>\r\n          </div>\r\n\r\n          {mapBounds && (\r\n            <button className=\"scifi-button\" onClick={onFitBounds}>\r\n              Fit to Map Bounds\r\n            </button>\r\n          )}\r\n\r\n          <button className=\"scifi-button\" onClick={onDebugTiles}>\r\n            Debug Tiles\r\n          </button>\r\n        </div>\r\n      )}\r\n\r\n      {!showControls && !mapLoaded && (\r\n        <button\r\n          className=\"toggle-controls\"\r\n          onClick={() => setShowControls(true)}\r\n          title=\"Open Map Controls\"\r\n        >\r\n          ⚙\r\n        </button>\r\n      )}\r\n\r\n      <button\r\n        className=\"fullscreen-button\"\r\n        onClick={toggleFullscreen}\r\n        title={isFullscreen ? \"Exit Fullscreen\" : \"Enter Fullscreen\"}\r\n      >\r\n        {isFullscreen ? \"⬜\" : \"⛶\"}\r\n      </button>\r\n\r\n      <button\r\n        className=\"path-tracking-button\"\r\n        onClick={togglePathTracking}\r\n        title={\r\n          showPathTracking\r\n            ? \"Disable Path Tracking & Distance\"\r\n            : \"Enable Path Tracking & Distance\"\r\n        }\r\n      >\r\n        {showPathTracking ? \"🛤\" : \"📍\"}\r\n      </button>\r\n\r\n      <div className=\"path-tracking-status\">\r\n        Path Tracking: {showPathTracking ? \"ON\" : \"OFF\"}\r\n      </div>\r\n\r\n      {soldiers.length > 0 && (\r\n        <div className=\"status-panel\">\r\n          <div className=\"status-title\">Active Units: {soldiers.length}</div>\r\n          {Object.entries(colorMap).map(([id, color]) => (\r\n            <div key={id} className=\"soldier-item\">\r\n              <div\r\n                className=\"soldier-dot\"\r\n                style={{\r\n                  backgroundColor: color,\r\n                  border: outOfBoundsSoldiers[id]\r\n                    ? \"2px solid #ff0000\"\r\n                    : \"1px solid #00ffff\",\r\n                }}\r\n              />\r\n              <span>{id}</span>\r\n              {outOfBoundsSoldiers[id] && (\r\n                <span className=\"out-of-bounds-indicator\">OUT</span>\r\n              )}\r\n              <span style={{ color: \"#888\", fontSize: \"10px\" }}>\r\n                ({trailsData[id]?.length || 0} pts)\r\n              </span>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n\r\n      {mapMetadataBounds && Object.keys(outOfBoundsSoldiers).length > 0 && (\r\n        <div className=\"bounds-info\">\r\n          <div className=\"bounds-title\">Map Bounds</div>\r\n          <div>N: {mapMetadataBounds.north.toFixed(6)}</div>\r\n          <div>S: {mapMetadataBounds.south.toFixed(6)}</div>\r\n          <div>E: {mapMetadataBounds.east.toFixed(6)}</div>\r\n          <div>W: {mapMetadataBounds.west.toFixed(6)}</div>\r\n          <div\r\n            style={{ color: \"#ff4444\", marginTop: \"4px\", fontWeight: \"bold\" }}\r\n          >\r\n            {Object.keys(outOfBoundsSoldiers).length} OUT OF BOUNDS\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <div\r\n        id=\"mapid\"\r\n        style={{\r\n          height: \"100%\",\r\n          width: \"100%\",\r\n          border: \"1px solid #66fcf1\",\r\n          borderRadius: 8,\r\n          background: \"#0a0a0a\",\r\n        }}\r\n      />\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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","debugId":null}}]
}